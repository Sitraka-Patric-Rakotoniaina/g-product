{% extends 'base.html.twig' %}


{% block body %}
    {% if error %}
        <div>{{ error.messageKey|trans(error.messageData, 'security') }}</div>
    {% endif %}

    <div class="mx-auto col-10 col-md-8 col-lg-6">
        <form action="{{ path('app_login') }}" method="post" novalidate>
            {% if error %}
                <div>{{ error.messageKey|trans(error.messageData, 'security') }}</div>
            {% endif %}
            <div class="form-outline mb-4">
                <label class="form-label" for="username">Email</label>
                <input type="email" id="username" name="_username" value="{{ last_username }}" class="form-control"/>
            </div>

            <label class="form-label" for="password">Password</label>
            <div class="form-outline mb-4 input-group toggle-password-container">
                <input
                        type="password"
                        id="password"
                        name="_password"
                        class="form-control"
                        aria-describedby="show-password"
                        {{ stimulus_controller('symfony/ux-toggle-password/toggle-password', {
                            visibleLabel: '',
                            hiddenLabel: '',
                            hiddenIcon: '<i class="fa fa-eye-slash"></i>',
                            visibleIcon: '<i class="fa fa-eye"></i>'
                        }) }}
                />
            </div>
            <button type="submit" class="btn btn-secondary">Se connecter</button>
        </form>
    </div>
{% endblock %}